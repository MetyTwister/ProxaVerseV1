<!DOCTYPE html>
<meta charset="UTF-8">
<head>
    <meta name="viewport" content="width=device-width">
    <title>ProxaVerse V1 Login</title>
    <link rel="stylesheet" href="ProxaVerseV1web/styles.css">
</head>
<body>
    <div class="divmain">
        <h1 style="font-family: Quantico; font-size: 100px;margin-top: 30px;margin-bottom: 30px;text-align: center;" >ProxaVerse</h1>
        <section>
            <h2 style="text-align: center;">Přihlášení</h2>
            <main style="text-align: center;margin: 50px;" id="main-holder">
                <form id="loginForm" action="http://127.0.0.1:5000/login" method="post">
                    <label for="password">Password:</label>
                    <input type="password" id="password" name="password" required>
                    <br>
                    <input type="submit" value="Login">
                </form>
              
            </main>
    </div>
    <script>
        document.getElementById("loginForm").addEventListener("submit", function(event) {
          event.preventDefault(); // Prevent form submission
          
          var form = event.target;
          var formData = new FormData(form);

          fetch("http://127.0.0.1:5000/login", {
            method: form.method,
            body: formData
          })
          .then(response => response.json())
          .then(data => {
            // Handle response from server
            if (data.message === "Correct") {
                location.replace("index2.html")
              // Redirect or perform additional actions as needed
            } else {
              location.reload();
              alert("Login unsuccessful");
            }
          })
          .catch(error => {
            alert("An error occurred: " + error.message);
          });
        });
      </script>
</body>